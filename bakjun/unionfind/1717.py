# union find ì•Œê³ ë¦¬ì¦˜ 
# ì„œë¡œì†Œ ì§‘í•© ì•Œê³ ë¦¬ì¦˜ì´ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ 
# êµ¬ì²´ì ìœ¼ë¡œ ì—¬ëŸ¬ê°œ ë…¸ë“œê°€ ì¡´ì¬í•  ë–„ ë‘ê°œì˜ ë…¸ë“œë¥¼ ì„ íƒí•´ì„œ 
# í˜„ì¬ ë…¸ë“œê°€ ì„œë¡œ ê°™ì€ ê·¸ë˜í”„ì— ì†í•˜ëŠ”ì§€ íŒë³„í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ 


# â“ Disjoint-Set(ì„œë¡œì†Œ ì§‘í•©) ì´ë€ ë¬´ì—‡ì¼ê¹Œìš”?
# ğŸ‘‰ ì„œë¡œ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ë¶€ë¶„ 
# ì§‘í•©ë“¤ë¡œ ë‚˜ëˆ ì§„ ì›ì†Œë“¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ê³  
# ì¡°ì‘í•˜ëŠ” ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤. 
# ì¦‰, ê³µí†µ ì›ì†Œê°€ ì—†ëŠ” ë¶€ë¶„ ì§‘í•©ë“¤ë¡œ ë‚˜ëˆ ì§„ ì›ì†Œë“¤ì— ëŒ€í•œ ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤.
#https://velog.io/@ywc8851/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-Union-Find-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98
import sys
sys.setrecursionlimit(1000000) # ì¬ê·€ ê¹Šì´ ì œí•œ ëŠ˜ë¦¬ê¸°
input = sys.stdin.readline

# 1. ì°¾ê¸° ì—°ì‚° í•¨ìˆ˜ 
def find_parent(x):
    if parent[x]!=x:
        parent[x] = find_parent(parent[x])
    return parent[x] 
# ìê¸°ìì‹ ì´ ë‚˜ì˜¬ë•Œê¹Œì§€ returnì„ í•¨ 

# 2. í•©ì§‘í•© ì—°ì‚° í•¨ìˆ˜ 
def union_parent(a,b):
    a = find_parent(a)
    b = find_parent(b)
    if a<b:
        parent[b]=a #ì‘ì€ ë¶€ëª¨ì˜ ë£¨íŠ¸ë¡œ ë°”ê¿”ì¤Œ 
    else:
        parent[a]=b


# n+1ê°œì˜ ì§‘í•©ì´ ìˆë‹¤ 0ë¶€í„° nê¹Œì§€ / mì€ ì—°ì‚°ê°¯ìˆ˜
n,m = map(int, input().split()) # 0~8ê¹Œì§€ê°€ ìˆê³  ì—°ì‚°ê°¯ìˆ˜ëŠ” ì´ 8ê°œì´ë‹¤ 
test = []
parent = [i for i in range(n+1)] # ê°ê° ë²ˆí˜¸ì˜ ë…¸ë“œì˜ parent ë¥¼ ì¼ë‹¨ ìê¸° ìì‹ ìœ¼ë¡œ ì´ˆê¸°í™”ì‹œí‚´ 




for _ in range(m):
    opr, a, b = map(int, input().split())
    if opr ==0: # í•©ì§‘í•© ì—°ì‚° 
        union_parent(a,b)
    else: # 1ë²ˆì´ë©´ ê°™ì€ì§‘í•©ì— í¬í•¨ë˜ì–´ìˆëŠ”ì§€ ì°¾ê¸° 
        if find_parent(a) == find_parent(b):
            print("yes")
        else:
            print("no")




#í•©ì§‘í•©ì€ 0ab ë‘ì›ì†Œê°€ ê°™ì€ì§‘í•©ì— í¬í•¨ë˜ì–´ìˆëŠ”ì§€ëŠ” 1ab
#a,bê°€ ê°™ì€ ì§‘í•©ì´ë©´ Yes ì•„ë‹ˆë©´ No




